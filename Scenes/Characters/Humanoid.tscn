[gd_scene load_steps=20 format=3 uid="uid://bnpka4m4iqnd5"]

[ext_resource type="PackedScene" uid="uid://cshg5vun327t5" path="res://Scenes/Characters/Character.tscn" id="1_4114j"]
[ext_resource type="Script" path="res://Scripts/Objects/Characters/Humanoids/HumanoidController.cs" id="1_hv5ql"]
[ext_resource type="ArrayMesh" uid="uid://dfcitsgm26aee" path="res://Models/Characters/Goblin/GoblinBody.vox" id="3_1ux3v"]
[ext_resource type="Script" path="res://Scripts/Objects/Characters/Humanoids/HumanoidArm.cs" id="4_2geo0"]
[ext_resource type="ArrayMesh" uid="uid://6sw7emybsawy" path="res://Models/Characters/Goblin/GoblinHead.vox" id="4_w3hy4"]
[ext_resource type="ArrayMesh" uid="uid://c0x0mjs3tk6hl" path="res://Models/Characters/Goblin/GoblinAL.vox" id="6_ekled"]
[ext_resource type="Script" path="res://Scripts/Inventory/Slot.cs" id="7_6h1r1"]
[ext_resource type="ArrayMesh" uid="uid://d107b5b7e2bes" path="res://Models/Items/Shield.vox" id="8_y6oyg"]
[ext_resource type="ArrayMesh" uid="uid://3ow2fjp63g4x" path="res://Models/Characters/Goblin/GoblinAR.vox" id="9_dombv"]
[ext_resource type="ArrayMesh" uid="uid://dhkf15pbxgipd" path="res://Models/Items/Dagger.vox" id="10_sofcg"]
[ext_resource type="ArrayMesh" uid="uid://cmy6jucg8qtpo" path="res://Models/Characters/Goblin/GoblinLL.vox" id="11_dc7i7"]
[ext_resource type="ArrayMesh" uid="uid://drysav07mu4fy" path="res://Models/Characters/Goblin/GoblinLR.vox" id="12_2ajt2"]
[ext_resource type="PackedScene" uid="uid://w1ulq8p6qvng" path="res://Scenes/Inventory/InventoryRect.tscn" id="13_63tmf"]
[ext_resource type="Texture2D" uid="uid://cr2ktrka7lkfr" path="res://Scripts/Objects/Items/Potion/HealPotion.png" id="14_1eqpk"]

[sub_resource type="Animation" id="Animation_27lq3"]
resource_name = "CombatAttack"
length = 0.6
step = 0.01
tracks/0/type = "position_3d"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Body/LeftArm")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0, 1, 0.11789, 0.53953, 0.509035, 0.21, 1, 0.288054, 0.430985, 0.29515, 0.26, 1, 0.278938, 0.4368, 0.306608, 0.31, 1, 0.269822, 0.442614, 0.318066, 0.6, 1, 0.11789, 0.53953, 0.509035)
tracks/1/type = "position_3d"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Body/RightArm")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = PackedFloat32Array(0, 1, -0.490452, 0.358702, -0.0156537, 0.05, 1, -0.469926, 0.742175, -0.284068, 0.09, 1, -0.394, 0.962, -0.056, 0.13, 1, -0.302325, 0.774361, 0.335731, 0.16, 1, -0.226333, 0.687351, 0.574923, 0.19, 1, -0.189576, 0.432597, 0.610372, 0.22, 1, -0.185641, 0.214191, 0.595578, 0.26, 1, -0.18433, 0.141389, 0.590647, 0.32, 1, -0.185761, 0.220809, 0.596026, 0.39, 1, -0.257453, 0.253255, 0.452102, 0.45, 1, -0.373952, 0.305978, 0.218224, 0.51, 1, -0.490452, 0.391852, -0.0893191, 0.6, 1, -0.490452, 0.358702, -0.0156537)
tracks/2/type = "rotation_3d"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Body/LeftArm")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = PackedFloat32Array(0, 1, 0, 0, 0, 1, 0.2, 1, 0.0699083, 0.283615, -0.0165592, 0.956243, 0.23, 1, 0.0910103, 0.307324, -0.0142458, 0.947136, 0.6, 1, 0, 0, 0, 1)
tracks/3/type = "rotation_3d"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Body/RightArm")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = PackedFloat32Array(0, 1, 0, -0.439414, 0, 0.898285, 0.05, 1, -0.250444, -0.421991, 0.12251, 0.862666, 0.08, 1, -0.35928, -0.0127217, 0.00445662, 0.933132, 0.12, 1, -0.076147, 0.0439172, 0.187403, 0.978342, 0.2, 1, 0.591989, 0.0535492, 0.180198, 0.783715, 0.22, 1, 0.711134, 0.0520776, 0.165694, 0.681265, 0.25, 1, 0.754067, 0.0550372, 0.171046, 0.631741, 0.32, 1, 0.758909, 0.109344, 0.176825, 0.617117, 0.39, 1, 0.658201, -0.00389141, 0.15336, 0.737046, 0.45, 1, 0.360823, -0.243018, 0.0840716, 0.896482, 0.51, 1, -0.039836, -0.524922, 0.014845, 0.850088, 0.6, 1, 0, -0.439414, 0, 0.898285)
tracks/4/type = "rotation_3d"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Body/BodyMesh")
tracks/4/interp = 2
tracks/4/loop_wrap = true
tracks/4/keys = PackedFloat32Array(0, 1, 0, -0.382684, 0, 0.92388, 0.05, 1, 1.3072e-09, -0.394062, 4.1459e-09, 0.919084, 0.2, 1, 2.0775e-10, 0.351878, 2.73611e-10, 0.936046, 0.3, 1, 3.28829e-10, 0.282842, 6.87867e-10, 0.959167, 0.37, 1, 0, 0.0999327, 0, 0.994994, 0.39, 1, 0, 0.00769988, 0, 0.99997, 0.45, 1, 0, -0.191313, 0, 0.981529, 0.51, 1, 0, -0.442766, 0, 0.896637, 0.6, 1, 0, -0.382683, 0, 0.92388)

[sub_resource type="Animation" id="Animation_hbbxg"]
resource_name = "CombatIdle"
length = 1.5
loop_mode = 1
tracks/0/type = "position_3d"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Body/LeftArm")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0, 1, 0.11789, 0.53953, 0.509035, 0.4, 1, 0.118088, 0.53953, 0.509035, 0.9, 1, 0.118206, 0.540731, 0.509035, 1.5, 1, 0.11789, 0.53953, 0.509035)
tracks/1/type = "rotation_3d"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Body/LeftArm")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = PackedFloat32Array(0, 1, 0, 0, 0, 1, 0.5, 1, -4.51285e-07, 0.000240528, 0.00187623, 0.999998, 0.9, 1, 0, 9.51212e-05, 0, 1, 1.5, 1, 0, 0, 0, 1)
tracks/2/type = "position_3d"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Body/RightArm")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = PackedFloat32Array(0, 1, -0.490452, 0.358702, -0.0156537, 0.3, 1, -0.489478, 0.359724, -0.0156537, 0.7, 1, -0.488715, 0.360426, -0.015433, 1.2, 1, -0.48784, 0.361316, -0.0151541, 1.5, 1, -0.490452, 0.358702, -0.0156537)
tracks/3/type = "rotation_3d"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Body/RightArm")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = PackedFloat32Array(0, 1, 0, -0.439414, 0, 0.898284, 0.3, 1, 0.00112151, -0.436738, 0.00224176, 0.899585, 0.8, 1, 0.00105618, -0.43406, 0.00207545, 0.900881, 1.1, 1, 0.00182689, -0.433722, 0.00367627, 0.901037, 1.5, 1, 0, -0.439414, 0, 0.898284)
tracks/4/type = "rotation_3d"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Body/BodyMesh")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = PackedFloat32Array(0, 1, 0, -0.382683, 0, 0.92388, 0.4, 1, 0, -0.380496, 0, 0.924783, 0.7, 1, 0, -0.383132, 0, 0.923693, 1.1, 1, 0, -0.383339, 0, 0.923608, 1.5, 1, 0, -0.382683, 0, 0.92388)

[sub_resource type="Animation" id="Animation_fj1da"]
length = 0.001

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ju6my"]
_data = {
"CombatAttack": SubResource("Animation_27lq3"),
"CombatIdle": SubResource("Animation_hbbxg"),
"RESET": SubResource("Animation_fj1da")
}

[sub_resource type="CanvasTexture" id="CanvasTexture_g6lxf"]

[node name="Character" instance=ExtResource("1_4114j")]

[node name="AnimationPlayer" type="AnimationPlayer" parent="." index="0"]
autoplay = "CombatIdle"
libraries = {
"": SubResource("AnimationLibrary_ju6my")
}

[node name="CharacterController" parent="." index="2"]
script = ExtResource("1_hv5ql")
RotationSpeed = Vector2(1.3, 0.03)

[node name="Body" type="Node3D" parent="." index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.475148, 0)

[node name="BodyMesh" type="MeshInstance3D" parent="Body" index="0"]
transform = Transform3D(0.707107, 0, -0.707107, 0, 1, 0, 0.707107, 0, 0.707107, 0, 0, 0)
mesh = ExtResource("3_1ux3v")

[node name="Head" type="MeshInstance3D" parent="Body" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.685263, 0)
mesh = ExtResource("4_w3hy4")
skeleton = NodePath("../..")

[node name="Camera3D" type="Camera3D" parent="Body/Head" index="0"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0.238865, 0.0679201)

[node name="LeftArm" type="Node3D" parent="Body" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.11789, 0.53953, 0.509035)
script = ExtResource("4_2geo0")

[node name="ArmMesh" type="MeshInstance3D" parent="Body/LeftArm" index="0"]
transform = Transform3D(-1.98616e-08, 1, 4.37114e-08, -1.50996e-07, -4.37114e-08, 1, 1, 1.98616e-08, 1.50996e-07, -0.086696, -0.0117978, -0.00429021)
mesh = ExtResource("6_ekled")
skeleton = NodePath("../../..")

[node name="ArmSlot" type="Node3D" parent="Body/LeftArm" index="1" node_paths=PackedStringArray("SlotRect")]
transform = Transform3D(1, 0, 1.42109e-14, 0, 1, 0, -1.42109e-14, 0, 1, 0, 0.012, 0)
script = ExtResource("7_6h1r1")
SlotRect = NodePath("../../../WeaponLeftRect")

[node name="Shield" type="MeshInstance3D" parent="Body/LeftArm/ArmSlot" index="0"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0.0230512, -0.196876, 0.0564265)
visible = false
mesh = ExtResource("8_y6oyg")
skeleton = NodePath("../../../..")

[node name="RightArm" type="Node3D" parent="Body" index="3"]
transform = Transform3D(0.61383, 0, -0.789437, 0, 0.999999, 0, 0.789438, 0, 0.61383, -0.490452, 0.358702, -0.0156537)
script = ExtResource("4_2geo0")

[node name="ArmMesh" type="MeshInstance3D" parent="Body/RightArm" index="0"]
transform = Transform3D(-2.18557e-07, -1, -4.37114e-08, 0, -4.37114e-08, 1, -1, 2.18557e-07, 9.55343e-15, 0.087, -0.012, -0.004)
mesh = ExtResource("9_dombv")
skeleton = NodePath("../../..")

[node name="ArmSlot" type="Node3D" parent="Body/RightArm" index="1" node_paths=PackedStringArray("SlotRect")]
transform = Transform3D(1, 0, 1.42109e-14, 0, 1, 0, -1.42109e-14, 0, 1, 0, 0.0117928, 0)
script = ExtResource("7_6h1r1")
SlotRect = NodePath("../../../WeaponRightRect")

[node name="Dagger" type="MeshInstance3D" parent="Body/RightArm/ArmSlot" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0120574, -0.104212, -0.0234121)
visible = false
mesh = ExtResource("10_sofcg")
skeleton = NodePath("../../../..")

[node name="LeftLeg" type="MeshInstance3D" parent="." index="5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.24, 0, 0)
mesh = ExtResource("11_dc7i7")

[node name="RightLeg" type="MeshInstance3D" parent="." index="6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.24, 0, 0)
mesh = ExtResource("12_2ajt2")

[node name="WeaponLeftRect" parent="." index="7" instance=ExtResource("13_63tmf")]
offset_top = 598.0
offset_bottom = 720.0

[node name="WeaponRightRect" parent="." index="8" instance=ExtResource("13_63tmf")]
offset_left = 50.0
offset_top = 598.0
offset_right = 100.0
offset_bottom = 720.0

[node name="TextureRect" type="TextureRect" parent="." index="9"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -1.0
offset_top = -1.0
offset_right = 1.0
offset_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = SubResource("CanvasTexture_g6lxf")

[node name="GrabbedItemTextureRect" type="TextureRect" parent="." index="10"]
visible = false
offset_right = 2.0
offset_bottom = 2.0
texture = ExtResource("14_1eqpk")
